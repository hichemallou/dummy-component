{"ast":null,"code":"// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Vector } from './vector.mjs';\nimport { BufferType, Type } from './enum.mjs';\nimport { DataType, strideForType } from './type.mjs';\nimport { popcnt_bit_range, truncateBitmap } from './util/bit.mjs';\n/** @ignore */\nexport const kUnknownNullCount = -1;\n/**\n * Data structure underlying {@link Vector}s. Use the convenience method {@link makeData}.\n */\nexport class Data {\n  get typeId() {\n    return this.type.typeId;\n  }\n  get ArrayType() {\n    return this.type.ArrayType;\n  }\n  get buffers() {\n    return [this.valueOffsets, this.values, this.nullBitmap, this.typeIds];\n  }\n  get byteLength() {\n    let byteLength = 0;\n    const {\n      valueOffsets,\n      values,\n      nullBitmap,\n      typeIds\n    } = this;\n    valueOffsets && (byteLength += valueOffsets.byteLength);\n    values && (byteLength += values.byteLength);\n    nullBitmap && (byteLength += nullBitmap.byteLength);\n    typeIds && (byteLength += typeIds.byteLength);\n    return this.children.reduce((byteLength, child) => byteLength + child.byteLength, byteLength);\n  }\n  get nullCount() {\n    let nullCount = this._nullCount;\n    let nullBitmap;\n    if (nullCount <= kUnknownNullCount && (nullBitmap = this.nullBitmap)) {\n      this._nullCount = nullCount = this.length - popcnt_bit_range(nullBitmap, this.offset, this.offset + this.length);\n    }\n    return nullCount;\n  }\n  constructor(type, offset, length, nullCount, buffers) {\n    let children = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [];\n    let dictionary = arguments.length > 6 ? arguments[6] : undefined;\n    this.type = type;\n    this.children = children;\n    this.dictionary = dictionary;\n    this.offset = Math.floor(Math.max(offset || 0, 0));\n    this.length = Math.floor(Math.max(length || 0, 0));\n    this._nullCount = Math.floor(Math.max(nullCount || 0, -1));\n    let buffer;\n    if (buffers instanceof Data) {\n      this.stride = buffers.stride;\n      this.values = buffers.values;\n      this.typeIds = buffers.typeIds;\n      this.nullBitmap = buffers.nullBitmap;\n      this.valueOffsets = buffers.valueOffsets;\n    } else {\n      this.stride = strideForType(type);\n      if (buffers) {\n        (buffer = buffers[0]) && (this.valueOffsets = buffer);\n        (buffer = buffers[1]) && (this.values = buffer);\n        (buffer = buffers[2]) && (this.nullBitmap = buffer);\n        (buffer = buffers[3]) && (this.typeIds = buffer);\n      }\n    }\n    this.nullable = this._nullCount !== 0 && this.nullBitmap && this.nullBitmap.byteLength > 0;\n  }\n  getValid(index) {\n    if (this.nullable && this.nullCount > 0) {\n      const pos = this.offset + index;\n      const val = this.nullBitmap[pos >> 3];\n      return (val & 1 << pos % 8) !== 0;\n    }\n    return true;\n  }\n  setValid(index, value) {\n    // Don't interact w/ nullBitmap if not nullable\n    if (!this.nullable) {\n      return value;\n    }\n    // If no null bitmap, initialize one on the fly\n    if (!this.nullBitmap || this.nullBitmap.byteLength <= index >> 3) {\n      const {\n        nullBitmap\n      } = this._changeLengthAndBackfillNullBitmap(this.length);\n      Object.assign(this, {\n        nullBitmap,\n        _nullCount: 0\n      });\n    }\n    const {\n      nullBitmap,\n      offset\n    } = this;\n    const pos = offset + index >> 3;\n    const bit = (offset + index) % 8;\n    const val = nullBitmap[pos] >> bit & 1;\n    // If `val` is truthy and the current bit is 0, flip it to 1 and increment `_nullCount`.\n    // If `val` is falsey and the current bit is 1, flip it to 0 and decrement `_nullCount`.\n    value ? val === 0 && (nullBitmap[pos] |= 1 << bit, this._nullCount = this.nullCount + 1) : val === 1 && (nullBitmap[pos] &= ~(1 << bit), this._nullCount = this.nullCount - 1);\n    return value;\n  }\n  clone() {\n    let type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.type;\n    let offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.offset;\n    let length = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.length;\n    let nullCount = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this._nullCount;\n    let buffers = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this;\n    let children = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : this.children;\n    return new Data(type, offset, length, nullCount, buffers, children, this.dictionary);\n  }\n  slice(offset, length) {\n    const {\n      stride,\n      typeId,\n      children\n    } = this;\n    // +true === 1, +false === 0, so this means\n    // we keep nullCount at 0 if it's already 0,\n    // otherwise set to the invalidated flag -1\n    const nullCount = +(this._nullCount === 0) - 1;\n    const childStride = typeId === 16 /* FixedSizeList */ ? stride : 1;\n    const buffers = this._sliceBuffers(offset, length, stride, typeId);\n    return this.clone(this.type, this.offset + offset, length, nullCount, buffers,\n    // Don't slice children if we have value offsets (the variable-width types)\n    children.length === 0 || this.valueOffsets ? children : this._sliceChildren(children, childStride * offset, childStride * length));\n  }\n  _changeLengthAndBackfillNullBitmap(newLength) {\n    if (this.typeId === Type.Null) {\n      return this.clone(this.type, 0, newLength, 0);\n    }\n    const {\n      length,\n      nullCount\n    } = this;\n    // start initialized with 0s (nulls), then fill from 0 to length with 1s (not null)\n    const bitmap = new Uint8Array((newLength + 63 & ~63) >> 3).fill(255, 0, length >> 3);\n    // set all the bits in the last byte (up to bit `length - length % 8`) to 1 (not null)\n    bitmap[length >> 3] = (1 << length - (length & ~7)) - 1;\n    // if we have a nullBitmap, truncate + slice and set it over the pre-filled 1s\n    if (nullCount > 0) {\n      bitmap.set(truncateBitmap(this.offset, length, this.nullBitmap), 0);\n    }\n    const buffers = this.buffers;\n    buffers[BufferType.VALIDITY] = bitmap;\n    return this.clone(this.type, 0, newLength, nullCount + (newLength - length), buffers);\n  }\n  _sliceBuffers(offset, length, stride, typeId) {\n    let arr;\n    const {\n      buffers\n    } = this;\n    // If typeIds exist, slice the typeIds buffer\n    (arr = buffers[BufferType.TYPE]) && (buffers[BufferType.TYPE] = arr.subarray(offset, offset + length));\n    // If offsets exist, only slice the offsets buffer\n    (arr = buffers[BufferType.OFFSET]) && (buffers[BufferType.OFFSET] = arr.subarray(offset, offset + length + 1)) ||\n    // Otherwise if no offsets, slice the data buffer. Don't slice the data vector for Booleans, since the offset goes by bits not bytes\n    (arr = buffers[BufferType.DATA]) && (buffers[BufferType.DATA] = typeId === 6 ? arr : arr.subarray(stride * offset, stride * (offset + length)));\n    return buffers;\n  }\n  _sliceChildren(children, offset, length) {\n    return children.map(child => child.slice(offset, length));\n  }\n}\nData.prototype.children = Object.freeze([]);\nimport { Visitor } from './visitor.mjs';\nimport { toArrayBufferView, toInt32Array, toUint8Array } from './util/buffer.mjs';\nclass MakeDataVisitor extends Visitor {\n  visit(props) {\n    return this.getVisitFn(props['type']).call(this, props);\n  }\n  visitNull(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0,\n      ['length']: length = 0\n    } = props;\n    return new Data(type, offset, length, 0);\n  }\n  visitBool(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0\n    } = props;\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const data = toArrayBufferView(type.ArrayType, props['data']);\n    const {\n      ['length']: length = data.length >> 3,\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n  }\n  visitInt(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0\n    } = props;\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const data = toArrayBufferView(type.ArrayType, props['data']);\n    const {\n      ['length']: length = data.length,\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n  }\n  visitFloat(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0\n    } = props;\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const data = toArrayBufferView(type.ArrayType, props['data']);\n    const {\n      ['length']: length = data.length,\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n  }\n  visitUtf8(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0\n    } = props;\n    const data = toUint8Array(props['data']);\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const valueOffsets = toInt32Array(props['valueOffsets']);\n    const {\n      ['length']: length = valueOffsets.length - 1,\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [valueOffsets, data, nullBitmap]);\n  }\n  visitBinary(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0\n    } = props;\n    const data = toUint8Array(props['data']);\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const valueOffsets = toInt32Array(props['valueOffsets']);\n    const {\n      ['length']: length = valueOffsets.length - 1,\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [valueOffsets, data, nullBitmap]);\n  }\n  visitFixedSizeBinary(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0\n    } = props;\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const data = toArrayBufferView(type.ArrayType, props['data']);\n    const {\n      ['length']: length = data.length / strideForType(type),\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n  }\n  visitDate(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0\n    } = props;\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const data = toArrayBufferView(type.ArrayType, props['data']);\n    const {\n      ['length']: length = data.length / strideForType(type),\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n  }\n  visitTimestamp(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0\n    } = props;\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const data = toArrayBufferView(type.ArrayType, props['data']);\n    const {\n      ['length']: length = data.length / strideForType(type),\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n  }\n  visitTime(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0\n    } = props;\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const data = toArrayBufferView(type.ArrayType, props['data']);\n    const {\n      ['length']: length = data.length / strideForType(type),\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n  }\n  visitDecimal(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0\n    } = props;\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const data = toArrayBufferView(type.ArrayType, props['data']);\n    const {\n      ['length']: length = data.length / strideForType(type),\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n  }\n  visitList(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0,\n      ['child']: child\n    } = props;\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const valueOffsets = toInt32Array(props['valueOffsets']);\n    const {\n      ['length']: length = valueOffsets.length - 1,\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [valueOffsets, undefined, nullBitmap], [child]);\n  }\n  visitStruct(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0,\n      ['children']: children = []\n    } = props;\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const {\n      length = children.reduce((len, _ref) => {\n        let {\n          length\n        } = _ref;\n        return Math.max(len, length);\n      }, 0),\n      nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [undefined, undefined, nullBitmap], children);\n  }\n  visitUnion(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0,\n      ['children']: children = []\n    } = props;\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const typeIds = toArrayBufferView(type.ArrayType, props['typeIds']);\n    const {\n      ['length']: length = typeIds.length,\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    if (DataType.isSparseUnion(type)) {\n      return new Data(type, offset, length, nullCount, [undefined, undefined, nullBitmap, typeIds], children);\n    }\n    const valueOffsets = toInt32Array(props['valueOffsets']);\n    return new Data(type, offset, length, nullCount, [valueOffsets, undefined, nullBitmap, typeIds], children);\n  }\n  visitDictionary(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0\n    } = props;\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const data = toArrayBufferView(type.indices.ArrayType, props['data']);\n    const {\n      ['dictionary']: dictionary = new Vector([new MakeDataVisitor().visit({\n        type: type.dictionary\n      })])\n    } = props;\n    const {\n      ['length']: length = data.length,\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap], [], dictionary);\n  }\n  visitInterval(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0\n    } = props;\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const data = toArrayBufferView(type.ArrayType, props['data']);\n    const {\n      ['length']: length = data.length / strideForType(type),\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n  }\n  visitFixedSizeList(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0,\n      ['child']: child = new MakeDataVisitor().visit({\n        type: type.valueType\n      })\n    } = props;\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const {\n      ['length']: length = child.length / strideForType(type),\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [undefined, undefined, nullBitmap], [child]);\n  }\n  visitMap(props) {\n    const {\n      ['type']: type,\n      ['offset']: offset = 0,\n      ['child']: child = new MakeDataVisitor().visit({\n        type: type.childType\n      })\n    } = props;\n    const nullBitmap = toUint8Array(props['nullBitmap']);\n    const valueOffsets = toInt32Array(props['valueOffsets']);\n    const {\n      ['length']: length = valueOffsets.length - 1,\n      ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0\n    } = props;\n    return new Data(type, offset, length, nullCount, [valueOffsets, undefined, nullBitmap], [child]);\n  }\n}\nexport function makeData(props) {\n  return new MakeDataVisitor().visit(props);\n}","map":{"version":3,"names":["Vector","BufferType","Type","DataType","strideForType","popcnt_bit_range","truncateBitmap","kUnknownNullCount","Data","typeId","type","ArrayType","buffers","valueOffsets","values","nullBitmap","typeIds","byteLength","children","reduce","child","nullCount","_nullCount","length","offset","constructor","arguments","undefined","dictionary","Math","floor","max","buffer","stride","nullable","getValid","index","pos","val","setValid","value","_changeLengthAndBackfillNullBitmap","Object","assign","bit","clone","slice","childStride","_sliceBuffers","_sliceChildren","newLength","Null","bitmap","Uint8Array","fill","set","VALIDITY","arr","TYPE","subarray","OFFSET","DATA","map","prototype","freeze","Visitor","toArrayBufferView","toInt32Array","toUint8Array","MakeDataVisitor","visit","props","getVisitFn","call","visitNull","visitBool","data","visitInt","visitFloat","visitUtf8","visitBinary","visitFixedSizeBinary","visitDate","visitTimestamp","visitTime","visitDecimal","visitList","visitStruct","len","_ref","visitUnion","isSparseUnion","visitDictionary","indices","visitInterval","visitFixedSizeList","valueType","visitMap","childType","makeData"],"sources":["/home/helektrika/Documents/dummy-component/component/frontend/node_modules/apache-arrow/src/data.ts"],"sourcesContent":["// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\nimport { Vector } from './vector.js';\nimport { BufferType, Type } from './enum.js';\nimport { DataType, strideForType } from './type.js';\nimport { popcnt_bit_range, truncateBitmap } from './util/bit.js';\n\n// When slicing, we do not know the null count of the sliced range without\n// doing some computation. To avoid doing this eagerly, we set the null count\n// to -1 (any negative number will do). When Vector.nullCount is called the\n// first time, the null count will be computed. See ARROW-33\n/** @ignore */ export type kUnknownNullCount = -1;\n/** @ignore */ export const kUnknownNullCount = -1;\n\n/** @ignore */ export type NullBuffer = Uint8Array | null | undefined;\n/** @ignore */ export type TypeIdsBuffer = Int8Array | ArrayLike<number> | Iterable<number> | undefined;\n/** @ignore */ export type ValueOffsetsBuffer = Int32Array | ArrayLike<number> | Iterable<number> | undefined;\n/** @ignore */ export type DataBuffer<T extends DataType> = T['TArray'] | ArrayLike<number> | Iterable<number> | undefined;\n\n/** @ignore */\nexport interface Buffers<T extends DataType> {\n    [BufferType.OFFSET]: Int32Array;\n    [BufferType.DATA]: T['TArray'];\n    [BufferType.VALIDITY]: Uint8Array;\n    [BufferType.TYPE]: T['TArray'];\n}\n\n/** @ignore */\nexport interface Data<T extends DataType = DataType> {\n    readonly TType: T['TType'];\n    readonly TArray: T['TArray'];\n    readonly TValue: T['TValue'];\n}\n\n/**\n * Data structure underlying {@link Vector}s. Use the convenience method {@link makeData}.\n */\nexport class Data<T extends DataType = DataType> {\n\n    declare public readonly type: T;\n    declare public readonly length: number;\n    declare public readonly offset: number;\n    declare public readonly stride: number;\n    declare public readonly nullable: boolean;\n    declare public readonly children: Data[];\n\n    /**\n     * The dictionary for this Vector, if any. Only used for Dictionary type.\n     */\n    declare public dictionary?: Vector;\n\n    declare public readonly values: Buffers<T>[BufferType.DATA];\n    declare public readonly typeIds: Buffers<T>[BufferType.TYPE];\n    declare public readonly nullBitmap: Buffers<T>[BufferType.VALIDITY];\n    declare public readonly valueOffsets: Buffers<T>[BufferType.OFFSET];\n\n    public get typeId(): T['TType'] { return this.type.typeId; }\n    public get ArrayType(): T['ArrayType'] { return this.type.ArrayType; }\n    public get buffers() {\n        return [this.valueOffsets, this.values, this.nullBitmap, this.typeIds] as Buffers<T>;\n    }\n    public get byteLength(): number {\n        let byteLength = 0;\n        const { valueOffsets, values, nullBitmap, typeIds } = this;\n        valueOffsets && (byteLength += valueOffsets.byteLength);\n        values && (byteLength += values.byteLength);\n        nullBitmap && (byteLength += nullBitmap.byteLength);\n        typeIds && (byteLength += typeIds.byteLength);\n        return this.children.reduce((byteLength, child) => byteLength + child.byteLength, byteLength);\n    }\n\n    protected _nullCount: number | kUnknownNullCount;\n\n    public get nullCount() {\n        let nullCount = this._nullCount;\n        let nullBitmap: Uint8Array | undefined;\n        if (nullCount <= kUnknownNullCount && (nullBitmap = this.nullBitmap)) {\n            this._nullCount = nullCount = this.length - popcnt_bit_range(nullBitmap, this.offset, this.offset + this.length);\n        }\n        return nullCount;\n    }\n\n    constructor(type: T, offset: number, length: number, nullCount?: number, buffers?: Partial<Buffers<T>> | Data<T>, children: Data[] = [], dictionary?: Vector) {\n        this.type = type;\n        this.children = children;\n        this.dictionary = dictionary;\n        this.offset = Math.floor(Math.max(offset || 0, 0));\n        this.length = Math.floor(Math.max(length || 0, 0));\n        this._nullCount = Math.floor(Math.max(nullCount || 0, -1));\n        let buffer: Buffers<T>[keyof Buffers<T>];\n        if (buffers instanceof Data) {\n            this.stride = buffers.stride;\n            this.values = buffers.values;\n            this.typeIds = buffers.typeIds;\n            this.nullBitmap = buffers.nullBitmap;\n            this.valueOffsets = buffers.valueOffsets;\n        } else {\n            this.stride = strideForType(type);\n            if (buffers) {\n                (buffer = (buffers as Buffers<T>)[0]) && (this.valueOffsets = buffer);\n                (buffer = (buffers as Buffers<T>)[1]) && (this.values = buffer);\n                (buffer = (buffers as Buffers<T>)[2]) && (this.nullBitmap = buffer);\n                (buffer = (buffers as Buffers<T>)[3]) && (this.typeIds = buffer);\n            }\n        }\n        this.nullable = this._nullCount !== 0 && this.nullBitmap && this.nullBitmap.byteLength > 0;\n    }\n\n    public getValid(index: number) {\n        if (this.nullable && this.nullCount > 0) {\n            const pos = this.offset + index;\n            const val = this.nullBitmap[pos >> 3];\n            return (val & (1 << (pos % 8))) !== 0;\n        }\n        return true;\n    }\n\n    public setValid(index: number, value: boolean) {\n        // Don't interact w/ nullBitmap if not nullable\n        if (!this.nullable) { return value; }\n        // If no null bitmap, initialize one on the fly\n        if (!this.nullBitmap || this.nullBitmap.byteLength <= (index >> 3)) {\n            const { nullBitmap } = this._changeLengthAndBackfillNullBitmap(this.length);\n            Object.assign(this, { nullBitmap, _nullCount: 0 });\n        }\n        const { nullBitmap, offset } = this;\n        const pos = (offset + index) >> 3;\n        const bit = (offset + index) % 8;\n        const val = (nullBitmap[pos] >> bit) & 1;\n        // If `val` is truthy and the current bit is 0, flip it to 1 and increment `_nullCount`.\n        // If `val` is falsey and the current bit is 1, flip it to 0 and decrement `_nullCount`.\n        value ? val === 0 && ((nullBitmap[pos] |= (1 << bit)), (this._nullCount = this.nullCount + 1))\n            : val === 1 && ((nullBitmap[pos] &= ~(1 << bit)), (this._nullCount = this.nullCount - 1));\n        return value;\n    }\n\n    public clone<R extends DataType = T>(type: R = this.type as any, offset = this.offset, length = this.length, nullCount = this._nullCount, buffers: Buffers<R> = <any>this, children: Data[] = this.children) {\n        return new Data(type, offset, length, nullCount, buffers, children, this.dictionary);\n    }\n\n    public slice(offset: number, length: number): Data<T> {\n        const { stride, typeId, children } = this;\n        // +true === 1, +false === 0, so this means\n        // we keep nullCount at 0 if it's already 0,\n        // otherwise set to the invalidated flag -1\n        const nullCount = +(this._nullCount === 0) - 1;\n        const childStride = typeId === 16 /* FixedSizeList */ ? stride : 1;\n        const buffers = this._sliceBuffers(offset, length, stride, typeId);\n        return this.clone<T>(this.type, this.offset + offset, length, nullCount, buffers,\n            // Don't slice children if we have value offsets (the variable-width types)\n            (children.length === 0 || this.valueOffsets) ? children : this._sliceChildren(children, childStride * offset, childStride * length));\n    }\n\n    public _changeLengthAndBackfillNullBitmap(newLength: number): Data<T> {\n        if (this.typeId === Type.Null) {\n            return this.clone(this.type, 0, newLength, 0);\n        }\n        const { length, nullCount } = this;\n        // start initialized with 0s (nulls), then fill from 0 to length with 1s (not null)\n        const bitmap = new Uint8Array(((newLength + 63) & ~63) >> 3).fill(255, 0, length >> 3);\n        // set all the bits in the last byte (up to bit `length - length % 8`) to 1 (not null)\n        bitmap[length >> 3] = (1 << (length - (length & ~7))) - 1;\n        // if we have a nullBitmap, truncate + slice and set it over the pre-filled 1s\n        if (nullCount > 0) {\n            bitmap.set(truncateBitmap(this.offset, length, this.nullBitmap), 0);\n        }\n        const buffers = this.buffers;\n        buffers[BufferType.VALIDITY] = bitmap;\n        return this.clone(this.type, 0, newLength, nullCount + (newLength - length), buffers);\n    }\n\n    protected _sliceBuffers(offset: number, length: number, stride: number, typeId: T['TType']): Buffers<T> {\n        let arr: any;\n        const { buffers } = this;\n        // If typeIds exist, slice the typeIds buffer\n        (arr = buffers[BufferType.TYPE]) && (buffers[BufferType.TYPE] = arr.subarray(offset, offset + length));\n        // If offsets exist, only slice the offsets buffer\n        (arr = buffers[BufferType.OFFSET]) && (buffers[BufferType.OFFSET] = arr.subarray(offset, offset + length + 1)) ||\n            // Otherwise if no offsets, slice the data buffer. Don't slice the data vector for Booleans, since the offset goes by bits not bytes\n            (arr = buffers[BufferType.DATA]) && (buffers[BufferType.DATA] = typeId === 6 ? arr : arr.subarray(stride * offset, stride * (offset + length)));\n        return buffers;\n    }\n\n    protected _sliceChildren(children: Data[], offset: number, length: number): Data[] {\n        return children.map((child) => child.slice(offset, length));\n    }\n}\n\n(Data.prototype as any).children = Object.freeze([]);\n\nimport {\n    Dictionary,\n    Bool, Null, Utf8, Binary, Decimal, FixedSizeBinary, List, FixedSizeList, Map_, Struct,\n    Float,\n    Int,\n    Date_,\n    Interval,\n    Time,\n    Timestamp,\n    Union, DenseUnion, SparseUnion,\n} from './type.js';\n\nimport { Visitor } from './visitor.js';\nimport { toArrayBufferView, toInt32Array, toUint8Array } from './util/buffer.js';\n\nclass MakeDataVisitor extends Visitor {\n    public visit<T extends DataType>(props: any): Data<T> {\n        return this.getVisitFn(props['type']).call(this, props);\n    }\n    public visitNull<T extends Null>(props: NullDataProps<T>) {\n        const {\n            ['type']: type,\n            ['offset']: offset = 0,\n            ['length']: length = 0,\n        } = props;\n        return new Data(type, offset, length, 0);\n    }\n    public visitBool<T extends Bool>(props: BoolDataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length >> 3, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    public visitInt<T extends Int>(props: IntDataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    public visitFloat<T extends Float>(props: FloatDataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    public visitUtf8<T extends Utf8>(props: Utf8DataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const data = toUint8Array(props['data']);\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const valueOffsets = toInt32Array(props['valueOffsets']);\n        const { ['length']: length = valueOffsets.length - 1, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0 } = props;\n        return new Data(type, offset, length, nullCount, [valueOffsets, data, nullBitmap]);\n    }\n    public visitBinary<T extends Binary>(props: BinaryDataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const data = toUint8Array(props['data']);\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const valueOffsets = toInt32Array(props['valueOffsets']);\n        const { ['length']: length = valueOffsets.length - 1, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0 } = props;\n        return new Data(type, offset, length, nullCount, [valueOffsets, data, nullBitmap]);\n    }\n    public visitFixedSizeBinary<T extends FixedSizeBinary>(props: FixedSizeBinaryDataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length / strideForType(type), ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    public visitDate<T extends Date_>(props: Date_DataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length / strideForType(type), ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    public visitTimestamp<T extends Timestamp>(props: TimestampDataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length / strideForType(type), ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    public visitTime<T extends Time>(props: TimeDataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length / strideForType(type), ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    public visitDecimal<T extends Decimal>(props: DecimalDataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length / strideForType(type), ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    public visitList<T extends List>(props: ListDataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0, ['child']: child } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const valueOffsets = toInt32Array(props['valueOffsets']);\n        const { ['length']: length = valueOffsets.length - 1, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0 } = props;\n        return new Data(type, offset, length, nullCount, [valueOffsets, undefined, nullBitmap], [child]);\n    }\n    public visitStruct<T extends Struct>(props: StructDataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0, ['children']: children = [] } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const {\n            length = children.reduce((len, { length }) => Math.max(len, length), 0),\n            nullCount = props['nullBitmap'] ? -1 : 0\n        } = props;\n        return new Data(type, offset, length, nullCount, [undefined, undefined, nullBitmap], children);\n    }\n    public visitUnion<T extends Union>(props: UnionDataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0, ['children']: children = [] } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const typeIds = toArrayBufferView(type.ArrayType, props['typeIds']);\n        const { ['length']: length = typeIds.length, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        if (DataType.isSparseUnion(type)) {\n            return new Data(type, offset, length, nullCount, [undefined, undefined, nullBitmap, typeIds], children);\n        }\n        const valueOffsets = toInt32Array(props['valueOffsets']);\n        return new Data(type, offset, length, nullCount, [valueOffsets, undefined, nullBitmap, typeIds], children);\n    }\n    public visitDictionary<T extends Dictionary>(props: DictionaryDataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.indices.ArrayType, props['data']);\n        const { ['dictionary']: dictionary = new Vector([new MakeDataVisitor().visit({ type: type.dictionary })]) } = props;\n        const { ['length']: length = data.length, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0 } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap], [], dictionary);\n    }\n    public visitInterval<T extends Interval>(props: IntervalDataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length / strideForType(type), ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    public visitFixedSizeList<T extends FixedSizeList>(props: FixedSizeListDataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0, ['child']: child = new MakeDataVisitor().visit({ type: type.valueType }) } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const { ['length']: length = child.length / strideForType(type), ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0 } = props;\n        return new Data(type, offset, length, nullCount, [undefined, undefined, nullBitmap], [child]);\n    }\n    public visitMap<T extends Map_>(props: Map_DataProps<T>) {\n        const { ['type']: type, ['offset']: offset = 0, ['child']: child = new MakeDataVisitor().visit({ type: type.childType }) } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const valueOffsets = toInt32Array(props['valueOffsets']);\n        const { ['length']: length = valueOffsets.length - 1, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [valueOffsets, undefined, nullBitmap], [child]);\n    }\n}\n\n/** @ignore */\ninterface DataProps_<T extends DataType> {\n    type: T;\n    offset?: number;\n    length?: number;\n    nullCount?: number;\n    nullBitmap?: NullBuffer;\n}\n\ninterface NullDataProps<T extends Null> { type: T; offset?: number; length?: number }\ninterface IntDataProps<T extends Int> extends DataProps_<T> { data?: DataBuffer<T> }\ninterface DictionaryDataProps<T extends Dictionary> extends DataProps_<T> { data?: DataBuffer<T>; dictionary?: Vector<T['dictionary']> }\ninterface FloatDataProps<T extends Float> extends DataProps_<T> { data?: DataBuffer<T> }\ninterface BoolDataProps<T extends Bool> extends DataProps_<T> { data?: DataBuffer<T> }\ninterface DecimalDataProps<T extends Decimal> extends DataProps_<T> { data?: DataBuffer<T> }\ninterface Date_DataProps<T extends Date_> extends DataProps_<T> { data?: DataBuffer<T> }\ninterface TimeDataProps<T extends Time> extends DataProps_<T> { data?: DataBuffer<T> }\ninterface TimestampDataProps<T extends Timestamp> extends DataProps_<T> { data?: DataBuffer<T> }\ninterface IntervalDataProps<T extends Interval> extends DataProps_<T> { data?: DataBuffer<T> }\ninterface FixedSizeBinaryDataProps<T extends FixedSizeBinary> extends DataProps_<T> { data?: DataBuffer<T> }\ninterface BinaryDataProps<T extends Binary> extends DataProps_<T> { valueOffsets: ValueOffsetsBuffer; data?: DataBuffer<T> }\ninterface Utf8DataProps<T extends Utf8> extends DataProps_<T> { valueOffsets: ValueOffsetsBuffer; data?: DataBuffer<T> }\ninterface ListDataProps<T extends List> extends DataProps_<T> { valueOffsets: ValueOffsetsBuffer; child: Data<T['valueType']> }\ninterface FixedSizeListDataProps<T extends FixedSizeList> extends DataProps_<T> { child: Data<T['valueType']> }\ninterface StructDataProps<T extends Struct> extends DataProps_<T> { children: Data[] }\ninterface Map_DataProps<T extends Map_> extends DataProps_<T> { valueOffsets: ValueOffsetsBuffer; child: Data }\ninterface SparseUnionDataProps<T extends SparseUnion> extends DataProps_<T> { typeIds: TypeIdsBuffer; children: Data[] }\ninterface DenseUnionDataProps<T extends DenseUnion> extends DataProps_<T> { typeIds: TypeIdsBuffer; children: Data[]; valueOffsets: ValueOffsetsBuffer }\ninterface UnionDataProps<T extends Union> extends DataProps_<T> { typeIds: TypeIdsBuffer; children: Data[]; valueOffsets?: ValueOffsetsBuffer }\n\nexport type DataProps<T extends DataType> = (\n    T extends Null /*            */ ? NullDataProps<T> :\n    T extends Int /*             */ ? IntDataProps<T> :\n    T extends Dictionary /*      */ ? DictionaryDataProps<T> :\n    T extends Float /*           */ ? FloatDataProps<T> :\n    T extends Bool /*            */ ? BoolDataProps<T> :\n    T extends Decimal /*         */ ? DecimalDataProps<T> :\n    T extends Date_ /*           */ ? Date_DataProps<T> :\n    T extends Time /*            */ ? TimeDataProps<T> :\n    T extends Timestamp /*       */ ? TimestampDataProps<T> :\n    T extends Interval /*        */ ? IntervalDataProps<T> :\n    T extends FixedSizeBinary /* */ ? FixedSizeBinaryDataProps<T> :\n    T extends Binary /*          */ ? BinaryDataProps<T> :\n    T extends Utf8 /*            */ ? Utf8DataProps<T> :\n    T extends List /*            */ ? ListDataProps<T> :\n    T extends FixedSizeList /*   */ ? FixedSizeListDataProps<T> :\n    T extends Struct /*          */ ? StructDataProps<T> :\n    T extends Map_ /*            */ ? Map_DataProps<T> :\n    T extends SparseUnion /*     */ ? SparseUnionDataProps<T> :\n    T extends DenseUnion /*      */ ? DenseUnionDataProps<T> :\n    T extends Union /*           */ ? UnionDataProps<T> :\n /*                                */ DataProps_<T>\n);\n\nexport function makeData<T extends Null>(props: NullDataProps<T>): Data<T>;\nexport function makeData<T extends Int>(props: IntDataProps<T>): Data<T>;\nexport function makeData<T extends Dictionary>(props: DictionaryDataProps<T>): Data<T>;\nexport function makeData<T extends Float>(props: FloatDataProps<T>): Data<T>;\nexport function makeData<T extends Bool>(props: BoolDataProps<T>): Data<T>;\nexport function makeData<T extends Decimal>(props: DecimalDataProps<T>): Data<T>;\nexport function makeData<T extends Date_>(props: Date_DataProps<T>): Data<T>;\nexport function makeData<T extends Time>(props: TimeDataProps<T>): Data<T>;\nexport function makeData<T extends Timestamp>(props: TimestampDataProps<T>): Data<T>;\nexport function makeData<T extends Interval>(props: IntervalDataProps<T>): Data<T>;\nexport function makeData<T extends FixedSizeBinary>(props: FixedSizeBinaryDataProps<T>): Data<T>;\nexport function makeData<T extends Binary>(props: BinaryDataProps<T>): Data<T>;\nexport function makeData<T extends Utf8>(props: Utf8DataProps<T>): Data<T>;\nexport function makeData<T extends List>(props: ListDataProps<T>): Data<T>;\nexport function makeData<T extends FixedSizeList>(props: FixedSizeListDataProps<T>): Data<T>;\nexport function makeData<T extends Struct>(props: StructDataProps<T>): Data<T>;\nexport function makeData<T extends Map_>(props: Map_DataProps<T>): Data<T>;\nexport function makeData<T extends SparseUnion>(props: SparseUnionDataProps<T>): Data<T>;\nexport function makeData<T extends DenseUnion>(props: DenseUnionDataProps<T>): Data<T>;\nexport function makeData<T extends Union>(props: UnionDataProps<T>): Data<T>;\nexport function makeData<T extends DataType>(props: DataProps_<T>): Data<T>;\nexport function makeData(props: any) {\n    return new MakeDataVisitor().visit(props);\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,MAAM,QAAQ,cAAc;AACrC,SAASC,UAAU,EAAEC,IAAI,QAAQ,YAAY;AAC7C,SAASC,QAAQ,EAAEC,aAAa,QAAQ,YAAY;AACpD,SAASC,gBAAgB,EAAEC,cAAc,QAAQ,gBAAgB;AAOjE;AAAe,OAAO,MAAMC,iBAAiB,GAAG,CAAC,CAAC;AAsBlD;;;AAGA,OAAM,MAAOC,IAAI;EAmBb,IAAWC,MAAMA,CAAA;IAAiB,OAAO,IAAI,CAACC,IAAI,CAACD,MAAM;EAAE;EAC3D,IAAWE,SAASA,CAAA;IAAqB,OAAO,IAAI,CAACD,IAAI,CAACC,SAAS;EAAE;EACrE,IAAWC,OAAOA,CAAA;IACd,OAAO,CAAC,IAAI,CAACC,YAAY,EAAE,IAAI,CAACC,MAAM,EAAE,IAAI,CAACC,UAAU,EAAE,IAAI,CAACC,OAAO,CAAe;EACxF;EACA,IAAWC,UAAUA,CAAA;IACjB,IAAIA,UAAU,GAAG,CAAC;IAClB,MAAM;MAAEJ,YAAY;MAAEC,MAAM;MAAEC,UAAU;MAAEC;IAAO,CAAE,GAAG,IAAI;IAC1DH,YAAY,KAAKI,UAAU,IAAIJ,YAAY,CAACI,UAAU,CAAC;IACvDH,MAAM,KAAKG,UAAU,IAAIH,MAAM,CAACG,UAAU,CAAC;IAC3CF,UAAU,KAAKE,UAAU,IAAIF,UAAU,CAACE,UAAU,CAAC;IACnDD,OAAO,KAAKC,UAAU,IAAID,OAAO,CAACC,UAAU,CAAC;IAC7C,OAAO,IAAI,CAACC,QAAQ,CAACC,MAAM,CAAC,CAACF,UAAU,EAAEG,KAAK,KAAKH,UAAU,GAAGG,KAAK,CAACH,UAAU,EAAEA,UAAU,CAAC;EACjG;EAIA,IAAWI,SAASA,CAAA;IAChB,IAAIA,SAAS,GAAG,IAAI,CAACC,UAAU;IAC/B,IAAIP,UAAkC;IACtC,IAAIM,SAAS,IAAId,iBAAiB,KAAKQ,UAAU,GAAG,IAAI,CAACA,UAAU,CAAC,EAAE;MAClE,IAAI,CAACO,UAAU,GAAGD,SAAS,GAAG,IAAI,CAACE,MAAM,GAAGlB,gBAAgB,CAACU,UAAU,EAAE,IAAI,CAACS,MAAM,EAAE,IAAI,CAACA,MAAM,GAAG,IAAI,CAACD,MAAM,CAAC;;IAEpH,OAAOF,SAAS;EACpB;EAEAI,YAAYf,IAAO,EAAEc,MAAc,EAAED,MAAc,EAAEF,SAAkB,EAAET,OAAuC,EAA4C;IAAA,IAA1CM,QAAA,GAAAQ,SAAA,CAAAH,MAAA,QAAAG,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAmB,EAAE;IAAA,IAAEE,UAAmB,GAAAF,SAAA,CAAAH,MAAA,OAAAG,SAAA,MAAAC,SAAA;IACxJ,IAAI,CAACjB,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACQ,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACU,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACJ,MAAM,GAAGK,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,GAAG,CAACP,MAAM,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;IAClD,IAAI,CAACD,MAAM,GAAGM,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,GAAG,CAACR,MAAM,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;IAClD,IAAI,CAACD,UAAU,GAAGO,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,GAAG,CAACV,SAAS,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC1D,IAAIW,MAAoC;IACxC,IAAIpB,OAAO,YAAYJ,IAAI,EAAE;MACzB,IAAI,CAACyB,MAAM,GAAGrB,OAAO,CAACqB,MAAM;MAC5B,IAAI,CAACnB,MAAM,GAAGF,OAAO,CAACE,MAAM;MAC5B,IAAI,CAACE,OAAO,GAAGJ,OAAO,CAACI,OAAO;MAC9B,IAAI,CAACD,UAAU,GAAGH,OAAO,CAACG,UAAU;MACpC,IAAI,CAACF,YAAY,GAAGD,OAAO,CAACC,YAAY;KAC3C,MAAM;MACH,IAAI,CAACoB,MAAM,GAAG7B,aAAa,CAACM,IAAI,CAAC;MACjC,IAAIE,OAAO,EAAE;QACT,CAACoB,MAAM,GAAIpB,OAAsB,CAAC,CAAC,CAAC,MAAM,IAAI,CAACC,YAAY,GAAGmB,MAAM,CAAC;QACrE,CAACA,MAAM,GAAIpB,OAAsB,CAAC,CAAC,CAAC,MAAM,IAAI,CAACE,MAAM,GAAGkB,MAAM,CAAC;QAC/D,CAACA,MAAM,GAAIpB,OAAsB,CAAC,CAAC,CAAC,MAAM,IAAI,CAACG,UAAU,GAAGiB,MAAM,CAAC;QACnE,CAACA,MAAM,GAAIpB,OAAsB,CAAC,CAAC,CAAC,MAAM,IAAI,CAACI,OAAO,GAAGgB,MAAM,CAAC;;;IAGxE,IAAI,CAACE,QAAQ,GAAG,IAAI,CAACZ,UAAU,KAAK,CAAC,IAAI,IAAI,CAACP,UAAU,IAAI,IAAI,CAACA,UAAU,CAACE,UAAU,GAAG,CAAC;EAC9F;EAEOkB,QAAQA,CAACC,KAAa;IACzB,IAAI,IAAI,CAACF,QAAQ,IAAI,IAAI,CAACb,SAAS,GAAG,CAAC,EAAE;MACrC,MAAMgB,GAAG,GAAG,IAAI,CAACb,MAAM,GAAGY,KAAK;MAC/B,MAAME,GAAG,GAAG,IAAI,CAACvB,UAAU,CAACsB,GAAG,IAAI,CAAC,CAAC;MACrC,OAAO,CAACC,GAAG,GAAI,CAAC,IAAKD,GAAG,GAAG,CAAG,MAAM,CAAC;;IAEzC,OAAO,IAAI;EACf;EAEOE,QAAQA,CAACH,KAAa,EAAEI,KAAc;IACzC;IACA,IAAI,CAAC,IAAI,CAACN,QAAQ,EAAE;MAAE,OAAOM,KAAK;;IAClC;IACA,IAAI,CAAC,IAAI,CAACzB,UAAU,IAAI,IAAI,CAACA,UAAU,CAACE,UAAU,IAAKmB,KAAK,IAAI,CAAE,EAAE;MAChE,MAAM;QAAErB;MAAU,CAAE,GAAG,IAAI,CAAC0B,kCAAkC,CAAC,IAAI,CAAClB,MAAM,CAAC;MAC3EmB,MAAM,CAACC,MAAM,CAAC,IAAI,EAAE;QAAE5B,UAAU;QAAEO,UAAU,EAAE;MAAC,CAAE,CAAC;;IAEtD,MAAM;MAAEP,UAAU;MAAES;IAAM,CAAE,GAAG,IAAI;IACnC,MAAMa,GAAG,GAAIb,MAAM,GAAGY,KAAK,IAAK,CAAC;IACjC,MAAMQ,GAAG,GAAG,CAACpB,MAAM,GAAGY,KAAK,IAAI,CAAC;IAChC,MAAME,GAAG,GAAIvB,UAAU,CAACsB,GAAG,CAAC,IAAIO,GAAG,GAAI,CAAC;IACxC;IACA;IACAJ,KAAK,GAAGF,GAAG,KAAK,CAAC,KAAMvB,UAAU,CAACsB,GAAG,CAAC,IAAK,CAAC,IAAIO,GAAI,EAAI,IAAI,CAACtB,UAAU,GAAG,IAAI,CAACD,SAAS,GAAG,CAAE,CAAC,GACxFiB,GAAG,KAAK,CAAC,KAAMvB,UAAU,CAACsB,GAAG,CAAC,IAAI,EAAE,CAAC,IAAIO,GAAG,CAAC,EAAI,IAAI,CAACtB,UAAU,GAAG,IAAI,CAACD,SAAS,GAAG,CAAE,CAAC;IAC7F,OAAOmB,KAAK;EAChB;EAEOK,KAAKA,CAAA,EAA+L;IAAA,IAAtKnC,IAAA,GAAAgB,SAAA,CAAAH,MAAA,QAAAG,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAU,IAAI,CAAChB,IAAW;IAAA,IAAEc,MAAM,GAAAE,SAAA,CAAAH,MAAA,QAAAG,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,IAAI,CAACF,MAAM;IAAA,IAAED,MAAM,GAAAG,SAAA,CAAAH,MAAA,QAAAG,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,IAAI,CAACH,MAAM;IAAA,IAAEF,SAAS,GAAAK,SAAA,CAAAH,MAAA,QAAAG,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,IAAI,CAACJ,UAAU;IAAA,IAAEV,OAAA,GAAAc,SAAA,CAAAH,MAAA,QAAAG,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAA2B,IAAI;IAAA,IAAER,QAAA,GAAAQ,SAAA,CAAAH,MAAA,QAAAG,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAmB,IAAI,CAACR,QAAQ;IACvM,OAAO,IAAIV,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAET,OAAO,EAAEM,QAAQ,EAAE,IAAI,CAACU,UAAU,CAAC;EACxF;EAEOkB,KAAKA,CAACtB,MAAc,EAAED,MAAc;IACvC,MAAM;MAAEU,MAAM;MAAExB,MAAM;MAAES;IAAQ,CAAE,GAAG,IAAI;IACzC;IACA;IACA;IACA,MAAMG,SAAS,GAAG,EAAE,IAAI,CAACC,UAAU,KAAK,CAAC,CAAC,GAAG,CAAC;IAC9C,MAAMyB,WAAW,GAAGtC,MAAM,KAAK,EAAE,CAAC,sBAAsBwB,MAAM,GAAG,CAAC;IAClE,MAAMrB,OAAO,GAAG,IAAI,CAACoC,aAAa,CAACxB,MAAM,EAAED,MAAM,EAAEU,MAAM,EAAExB,MAAM,CAAC;IAClE,OAAO,IAAI,CAACoC,KAAK,CAAI,IAAI,CAACnC,IAAI,EAAE,IAAI,CAACc,MAAM,GAAGA,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAET,OAAO;IAC5E;IACCM,QAAQ,CAACK,MAAM,KAAK,CAAC,IAAI,IAAI,CAACV,YAAY,GAAIK,QAAQ,GAAG,IAAI,CAAC+B,cAAc,CAAC/B,QAAQ,EAAE6B,WAAW,GAAGvB,MAAM,EAAEuB,WAAW,GAAGxB,MAAM,CAAC,CAAC;EAC5I;EAEOkB,kCAAkCA,CAACS,SAAiB;IACvD,IAAI,IAAI,CAACzC,MAAM,KAAKP,IAAI,CAACiD,IAAI,EAAE;MAC3B,OAAO,IAAI,CAACN,KAAK,CAAC,IAAI,CAACnC,IAAI,EAAE,CAAC,EAAEwC,SAAS,EAAE,CAAC,CAAC;;IAEjD,MAAM;MAAE3B,MAAM;MAAEF;IAAS,CAAE,GAAG,IAAI;IAClC;IACA,MAAM+B,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAEH,SAAS,GAAG,EAAE,GAAI,CAAC,EAAE,KAAK,CAAC,CAAC,CAACI,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE/B,MAAM,IAAI,CAAC,CAAC;IACtF;IACA6B,MAAM,CAAC7B,MAAM,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,IAAKA,MAAM,IAAIA,MAAM,GAAG,CAAC,CAAC,CAAE,IAAI,CAAC;IACzD;IACA,IAAIF,SAAS,GAAG,CAAC,EAAE;MACf+B,MAAM,CAACG,GAAG,CAACjD,cAAc,CAAC,IAAI,CAACkB,MAAM,EAAED,MAAM,EAAE,IAAI,CAACR,UAAU,CAAC,EAAE,CAAC,CAAC;;IAEvE,MAAMH,OAAO,GAAG,IAAI,CAACA,OAAO;IAC5BA,OAAO,CAACX,UAAU,CAACuD,QAAQ,CAAC,GAAGJ,MAAM;IACrC,OAAO,IAAI,CAACP,KAAK,CAAC,IAAI,CAACnC,IAAI,EAAE,CAAC,EAAEwC,SAAS,EAAE7B,SAAS,IAAI6B,SAAS,GAAG3B,MAAM,CAAC,EAAEX,OAAO,CAAC;EACzF;EAEUoC,aAAaA,CAACxB,MAAc,EAAED,MAAc,EAAEU,MAAc,EAAExB,MAAkB;IACtF,IAAIgD,GAAQ;IACZ,MAAM;MAAE7C;IAAO,CAAE,GAAG,IAAI;IACxB;IACA,CAAC6C,GAAG,GAAG7C,OAAO,CAACX,UAAU,CAACyD,IAAI,CAAC,MAAM9C,OAAO,CAACX,UAAU,CAACyD,IAAI,CAAC,GAAGD,GAAG,CAACE,QAAQ,CAACnC,MAAM,EAAEA,MAAM,GAAGD,MAAM,CAAC,CAAC;IACtG;IACA,CAACkC,GAAG,GAAG7C,OAAO,CAACX,UAAU,CAAC2D,MAAM,CAAC,MAAMhD,OAAO,CAACX,UAAU,CAAC2D,MAAM,CAAC,GAAGH,GAAG,CAACE,QAAQ,CAACnC,MAAM,EAAEA,MAAM,GAAGD,MAAM,GAAG,CAAC,CAAC,CAAC;IAC1G;IACA,CAACkC,GAAG,GAAG7C,OAAO,CAACX,UAAU,CAAC4D,IAAI,CAAC,MAAMjD,OAAO,CAACX,UAAU,CAAC4D,IAAI,CAAC,GAAGpD,MAAM,KAAK,CAAC,GAAGgD,GAAG,GAAGA,GAAG,CAACE,QAAQ,CAAC1B,MAAM,GAAGT,MAAM,EAAES,MAAM,IAAIT,MAAM,GAAGD,MAAM,CAAC,CAAC,CAAC;IACnJ,OAAOX,OAAO;EAClB;EAEUqC,cAAcA,CAAC/B,QAAgB,EAAEM,MAAc,EAAED,MAAc;IACrE,OAAOL,QAAQ,CAAC4C,GAAG,CAAE1C,KAAK,IAAKA,KAAK,CAAC0B,KAAK,CAACtB,MAAM,EAAED,MAAM,CAAC,CAAC;EAC/D;;AAGHf,IAAI,CAACuD,SAAiB,CAAC7C,QAAQ,GAAGwB,MAAM,CAACsB,MAAM,CAAC,EAAE,CAAC;AAcpD,SAASC,OAAO,QAAQ,eAAe;AACvC,SAASC,iBAAiB,EAAEC,YAAY,EAAEC,YAAY,QAAQ,mBAAmB;AAEjF,MAAMC,eAAgB,SAAQJ,OAAO;EAC1BK,KAAKA,CAAqBC,KAAU;IACvC,OAAO,IAAI,CAACC,UAAU,CAACD,KAAK,CAAC,MAAM,CAAC,CAAC,CAACE,IAAI,CAAC,IAAI,EAAEF,KAAK,CAAC;EAC3D;EACOG,SAASA,CAAiBH,KAAuB;IACpD,MAAM;MACF,CAAC,MAAM,GAAG7D,IAAI;MACd,CAAC,QAAQ,GAAGc,MAAM,GAAG,CAAC;MACtB,CAAC,QAAQ,GAAGD,MAAM,GAAG;IAAC,CACzB,GAAGgD,KAAK;IACT,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAE,CAAC,CAAC;EAC5C;EACOoD,SAASA,CAAiBJ,KAAuB;IACpD,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG;IAAC,CAAE,GAAG+C,KAAK;IACxD,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAMK,IAAI,GAAGV,iBAAiB,CAACxD,IAAI,CAACC,SAAS,EAAE4D,KAAK,CAAC,MAAM,CAAC,CAAC;IAC7D,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGqD,IAAI,CAACrD,MAAM,IAAI,CAAC;MAAE,CAAC,WAAW,GAAGF,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAG,GAAGA,KAAK;IACjH,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACM,SAAS,EAAEiD,IAAI,EAAE7D,UAAU,CAAC,CAAC;EACnF;EACO8D,QAAQA,CAAgBN,KAAsB;IACjD,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG;IAAC,CAAE,GAAG+C,KAAK;IACxD,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAMK,IAAI,GAAGV,iBAAiB,CAACxD,IAAI,CAACC,SAAS,EAAE4D,KAAK,CAAC,MAAM,CAAC,CAAC;IAC7D,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGqD,IAAI,CAACrD,MAAM;MAAE,CAAC,WAAW,GAAGF,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAG,GAAGA,KAAK;IAC5G,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACM,SAAS,EAAEiD,IAAI,EAAE7D,UAAU,CAAC,CAAC;EACnF;EACO+D,UAAUA,CAAkBP,KAAwB;IACvD,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG;IAAC,CAAE,GAAG+C,KAAK;IACxD,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAMK,IAAI,GAAGV,iBAAiB,CAACxD,IAAI,CAACC,SAAS,EAAE4D,KAAK,CAAC,MAAM,CAAC,CAAC;IAC7D,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGqD,IAAI,CAACrD,MAAM;MAAE,CAAC,WAAW,GAAGF,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAG,GAAGA,KAAK;IAC5G,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACM,SAAS,EAAEiD,IAAI,EAAE7D,UAAU,CAAC,CAAC;EACnF;EACOgE,SAASA,CAAiBR,KAAuB;IACpD,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG;IAAC,CAAE,GAAG+C,KAAK;IACxD,MAAMK,IAAI,GAAGR,YAAY,CAACG,KAAK,CAAC,MAAM,CAAC,CAAC;IACxC,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAM1D,YAAY,GAAGsD,YAAY,CAACI,KAAK,CAAC,cAAc,CAAC,CAAC;IACxD,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGV,YAAY,CAACU,MAAM,GAAG,CAAC;MAAE,CAAC,WAAW,GAAGF,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAE,GAAGA,KAAK;IACvH,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACR,YAAY,EAAE+D,IAAI,EAAE7D,UAAU,CAAC,CAAC;EACtF;EACOiE,WAAWA,CAAmBT,KAAyB;IAC1D,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG;IAAC,CAAE,GAAG+C,KAAK;IACxD,MAAMK,IAAI,GAAGR,YAAY,CAACG,KAAK,CAAC,MAAM,CAAC,CAAC;IACxC,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAM1D,YAAY,GAAGsD,YAAY,CAACI,KAAK,CAAC,cAAc,CAAC,CAAC;IACxD,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGV,YAAY,CAACU,MAAM,GAAG,CAAC;MAAE,CAAC,WAAW,GAAGF,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAE,GAAGA,KAAK;IACvH,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACR,YAAY,EAAE+D,IAAI,EAAE7D,UAAU,CAAC,CAAC;EACtF;EACOkE,oBAAoBA,CAA4BV,KAAkC;IACrF,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG;IAAC,CAAE,GAAG+C,KAAK;IACxD,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAMK,IAAI,GAAGV,iBAAiB,CAACxD,IAAI,CAACC,SAAS,EAAE4D,KAAK,CAAC,MAAM,CAAC,CAAC;IAC7D,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGqD,IAAI,CAACrD,MAAM,GAAGnB,aAAa,CAACM,IAAI,CAAC;MAAE,CAAC,WAAW,GAAGW,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAG,GAAGA,KAAK;IAClI,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACM,SAAS,EAAEiD,IAAI,EAAE7D,UAAU,CAAC,CAAC;EACnF;EACOmE,SAASA,CAAkBX,KAAwB;IACtD,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG;IAAC,CAAE,GAAG+C,KAAK;IACxD,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAMK,IAAI,GAAGV,iBAAiB,CAACxD,IAAI,CAACC,SAAS,EAAE4D,KAAK,CAAC,MAAM,CAAC,CAAC;IAC7D,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGqD,IAAI,CAACrD,MAAM,GAAGnB,aAAa,CAACM,IAAI,CAAC;MAAE,CAAC,WAAW,GAAGW,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAG,GAAGA,KAAK;IAClI,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACM,SAAS,EAAEiD,IAAI,EAAE7D,UAAU,CAAC,CAAC;EACnF;EACOoE,cAAcA,CAAsBZ,KAA4B;IACnE,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG;IAAC,CAAE,GAAG+C,KAAK;IACxD,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAMK,IAAI,GAAGV,iBAAiB,CAACxD,IAAI,CAACC,SAAS,EAAE4D,KAAK,CAAC,MAAM,CAAC,CAAC;IAC7D,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGqD,IAAI,CAACrD,MAAM,GAAGnB,aAAa,CAACM,IAAI,CAAC;MAAE,CAAC,WAAW,GAAGW,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAG,GAAGA,KAAK;IAClI,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACM,SAAS,EAAEiD,IAAI,EAAE7D,UAAU,CAAC,CAAC;EACnF;EACOqE,SAASA,CAAiBb,KAAuB;IACpD,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG;IAAC,CAAE,GAAG+C,KAAK;IACxD,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAMK,IAAI,GAAGV,iBAAiB,CAACxD,IAAI,CAACC,SAAS,EAAE4D,KAAK,CAAC,MAAM,CAAC,CAAC;IAC7D,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGqD,IAAI,CAACrD,MAAM,GAAGnB,aAAa,CAACM,IAAI,CAAC;MAAE,CAAC,WAAW,GAAGW,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAG,GAAGA,KAAK;IAClI,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACM,SAAS,EAAEiD,IAAI,EAAE7D,UAAU,CAAC,CAAC;EACnF;EACOsE,YAAYA,CAAoBd,KAA0B;IAC7D,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG;IAAC,CAAE,GAAG+C,KAAK;IACxD,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAMK,IAAI,GAAGV,iBAAiB,CAACxD,IAAI,CAACC,SAAS,EAAE4D,KAAK,CAAC,MAAM,CAAC,CAAC;IAC7D,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGqD,IAAI,CAACrD,MAAM,GAAGnB,aAAa,CAACM,IAAI,CAAC;MAAE,CAAC,WAAW,GAAGW,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAG,GAAGA,KAAK;IAClI,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACM,SAAS,EAAEiD,IAAI,EAAE7D,UAAU,CAAC,CAAC;EACnF;EACOuE,SAASA,CAAiBf,KAAuB;IACpD,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG,CAAC;MAAE,CAAC,OAAO,GAAGJ;IAAK,CAAE,GAAGmD,KAAK;IAC1E,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAM1D,YAAY,GAAGsD,YAAY,CAACI,KAAK,CAAC,cAAc,CAAC,CAAC;IACxD,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGV,YAAY,CAACU,MAAM,GAAG,CAAC;MAAE,CAAC,WAAW,GAAGF,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAE,GAAGA,KAAK;IACvH,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACR,YAAY,EAAEc,SAAS,EAAEZ,UAAU,CAAC,EAAE,CAACK,KAAK,CAAC,CAAC;EACpG;EACOmE,WAAWA,CAAmBhB,KAAyB;IAC1D,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG,CAAC;MAAE,CAAC,UAAU,GAAGN,QAAQ,GAAG;IAAE,CAAE,GAAGqD,KAAK;IACrF,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAM;MACFhD,MAAM,GAAGL,QAAQ,CAACC,MAAM,CAAC,CAACqE,GAAG,EAAAC,IAAA;QAAA,IAAE;UAAElE;QAAM,CAAE,GAAAkE,IAAA;QAAA,OAAK5D,IAAI,CAACE,GAAG,CAACyD,GAAG,EAAEjE,MAAM,CAAC;MAAA,GAAE,CAAC,CAAC;MACvEF,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAC3C,GAAGA,KAAK;IACT,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACM,SAAS,EAAEA,SAAS,EAAEZ,UAAU,CAAC,EAAEG,QAAQ,CAAC;EAClG;EACOwE,UAAUA,CAAkBnB,KAAwB;IACvD,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG,CAAC;MAAE,CAAC,UAAU,GAAGN,QAAQ,GAAG;IAAE,CAAE,GAAGqD,KAAK;IACrF,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAMvD,OAAO,GAAGkD,iBAAiB,CAACxD,IAAI,CAACC,SAAS,EAAE4D,KAAK,CAAC,SAAS,CAAC,CAAC;IACnE,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGP,OAAO,CAACO,MAAM;MAAE,CAAC,WAAW,GAAGF,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAG,GAAGA,KAAK;IAC/G,IAAIpE,QAAQ,CAACwF,aAAa,CAACjF,IAAI,CAAC,EAAE;MAC9B,OAAO,IAAIF,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACM,SAAS,EAAEA,SAAS,EAAEZ,UAAU,EAAEC,OAAO,CAAC,EAAEE,QAAQ,CAAC;;IAE3G,MAAML,YAAY,GAAGsD,YAAY,CAACI,KAAK,CAAC,cAAc,CAAC,CAAC;IACxD,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACR,YAAY,EAAEc,SAAS,EAAEZ,UAAU,EAAEC,OAAO,CAAC,EAAEE,QAAQ,CAAC;EAC9G;EACO0E,eAAeA,CAAuBrB,KAA6B;IACtE,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG;IAAC,CAAE,GAAG+C,KAAK;IACxD,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAMK,IAAI,GAAGV,iBAAiB,CAACxD,IAAI,CAACmF,OAAO,CAAClF,SAAS,EAAE4D,KAAK,CAAC,MAAM,CAAC,CAAC;IACrE,MAAM;MAAE,CAAC,YAAY,GAAG3C,UAAU,GAAG,IAAI5B,MAAM,CAAC,CAAC,IAAIqE,eAAe,EAAE,CAACC,KAAK,CAAC;QAAE5D,IAAI,EAAEA,IAAI,CAACkB;MAAU,CAAE,CAAC,CAAC;IAAC,CAAE,GAAG2C,KAAK;IACnH,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGqD,IAAI,CAACrD,MAAM;MAAE,CAAC,WAAW,GAAGF,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAE,GAAGA,KAAK;IAC3G,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACM,SAAS,EAAEiD,IAAI,EAAE7D,UAAU,CAAC,EAAE,EAAE,EAAEa,UAAU,CAAC;EACnG;EACOkE,aAAaA,CAAqBvB,KAA2B;IAChE,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG;IAAC,CAAE,GAAG+C,KAAK;IACxD,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAMK,IAAI,GAAGV,iBAAiB,CAACxD,IAAI,CAACC,SAAS,EAAE4D,KAAK,CAAC,MAAM,CAAC,CAAC;IAC7D,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGqD,IAAI,CAACrD,MAAM,GAAGnB,aAAa,CAACM,IAAI,CAAC;MAAE,CAAC,WAAW,GAAGW,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAG,GAAGA,KAAK;IAClI,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACM,SAAS,EAAEiD,IAAI,EAAE7D,UAAU,CAAC,CAAC;EACnF;EACOgF,kBAAkBA,CAA0BxB,KAAgC;IAC/E,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG,CAAC;MAAE,CAAC,OAAO,GAAGJ,KAAK,GAAG,IAAIiD,eAAe,EAAE,CAACC,KAAK,CAAC;QAAE5D,IAAI,EAAEA,IAAI,CAACsF;MAAS,CAAE;IAAC,CAAE,GAAGzB,KAAK;IAClI,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGH,KAAK,CAACG,MAAM,GAAGnB,aAAa,CAACM,IAAI,CAAC;MAAE,CAAC,WAAW,GAAGW,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAE,GAAGA,KAAK;IAClI,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACM,SAAS,EAAEA,SAAS,EAAEZ,UAAU,CAAC,EAAE,CAACK,KAAK,CAAC,CAAC;EACjG;EACO6E,QAAQA,CAAiB1B,KAAuB;IACnD,MAAM;MAAE,CAAC,MAAM,GAAG7D,IAAI;MAAE,CAAC,QAAQ,GAAGc,MAAM,GAAG,CAAC;MAAE,CAAC,OAAO,GAAGJ,KAAK,GAAG,IAAIiD,eAAe,EAAE,CAACC,KAAK,CAAC;QAAE5D,IAAI,EAAEA,IAAI,CAACwF;MAAS,CAAE;IAAC,CAAE,GAAG3B,KAAK;IAClI,MAAMxD,UAAU,GAAGqD,YAAY,CAACG,KAAK,CAAC,YAAY,CAAC,CAAC;IACpD,MAAM1D,YAAY,GAAGsD,YAAY,CAACI,KAAK,CAAC,cAAc,CAAC,CAAC;IACxD,MAAM;MAAE,CAAC,QAAQ,GAAGhD,MAAM,GAAGV,YAAY,CAACU,MAAM,GAAG,CAAC;MAAE,CAAC,WAAW,GAAGF,SAAS,GAAGkD,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG;IAAC,CAAG,GAAGA,KAAK;IACxH,OAAO,IAAI/D,IAAI,CAACE,IAAI,EAAEc,MAAM,EAAED,MAAM,EAAEF,SAAS,EAAE,CAACR,YAAY,EAAEc,SAAS,EAAEZ,UAAU,CAAC,EAAE,CAACK,KAAK,CAAC,CAAC;EACpG;;AA8EJ,OAAM,SAAU+E,QAAQA,CAAC5B,KAAU;EAC/B,OAAO,IAAIF,eAAe,EAAE,CAACC,KAAK,CAACC,KAAK,CAAC;AAC7C"},"metadata":{},"sourceType":"module","externalDependencies":[]}